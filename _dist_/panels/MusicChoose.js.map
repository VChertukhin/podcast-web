{"version":3,"sources":["MusicChoose.tsx"],"names":["React","Avatar","Cell","List","PanelHeader","PanelHeaderBack","Search","audios","MusicChoose","Component","constructor","props","state","search","toLowerCase","filter","title","artist","indexOf","render","goBack","choseAudio","e","setState","target","value","length","map","audio","id","photoURL"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,MADF,EAEEC,IAFF,EAGEC,IAHF,EAIEC,WAJF,EAKEC,eALF,EAMEC,MANF,QAOO,iBAPP;AAQA,SAASC,MAAT,QAAuB,UAAvB;AAcA,OAAO,MAAMC,WAAN,SAA0BR,KAAK,CAACS,SAAhC,CAGL;AACAC,EAAAA,WAAW,CAACC,KAAD,EAA0B;AACnC,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE;AADG,KAAb;AAGD;;AAED,MAAIN,MAAJ,GAAa;AACX,UAAMM,MAAM,GAAG,KAAKD,KAAL,CAAWC,MAAX,CAAkBC,WAAlB,EAAf;AACA,WAAOP,MAAM,CAACQ,MAAP,CACL,CAAC;AAAEC,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAD,KACED,KAAK,CAACF,WAAN,GAAoBI,OAApB,CAA4BL,MAA5B,IAAsC,CAAC,CAAvC,IACAI,MAAM,CAACH,WAAP,GAAqBI,OAArB,CAA6BL,MAA7B,IAAuC,CAAC,CAHrC,CAAP;AAKD;;AAEDM,EAAAA,MAAM,GAAgB;AACpB,UAAM;AAAEC,MAAAA,MAAF;AAAUC,MAAAA;AAAV,QAAyB,KAAKV,KAApC,CADoB,CAEpB;;AAEA,wBACE,uDACE,oBAAC,WAAD;AAAa,MAAA,IAAI,eAAE,oBAAC,eAAD;AAAiB,QAAA,OAAO,EAAE,MAAMS,MAAM;AAAtC;AAAnB,yFADF,eAIE,oBAAC,MAAD;AACE,MAAA,KAAK,EAAE,KAAKR,KAAL,CAAWC,MADpB;AAEE,MAAA,QAAQ,EAAGS,CAAD,IAAO,KAAKC,QAAL,CAAc;AAAEV,QAAAA,MAAM,EAAES,CAAC,CAACE,MAAF,CAASC;AAAnB,OAAd,CAFnB;AAGE,MAAA,KAAK,EAAE;AAHT,MAJF,EASG,KAAKlB,MAAL,CAAYmB,MAAZ,GAAqB,CAArB,iBACC,oBAAC,IAAD,QACG,KAAKnB,MAAL,CAAYoB,GAAZ,CAAiBC,KAAD,iBACf,oBAAC,IAAD;AACE,MAAA,GAAG,EAAEA,KAAK,CAACC,EADb;AAEE,MAAA,MAAM,eAAE,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,OAAb;AAAqB,QAAA,GAAG,EAAED,KAAK,CAACE;AAAhC,QAFV;AAGE,MAAA,WAAW,EAAEF,KAAK,CAACX,MAHrB;AAIE,MAAA,OAAO,EAAE,MAAMI,UAAU,CAACO,KAAD;AAJ3B,OAMGA,KAAK,CAACZ,KANT,CADD,CADH,CAVJ,CADF;AA0BD;;AAhDD","sourcesContent":["import React from 'react';\nimport {\n  Avatar,\n  Cell,\n  List,\n  PanelHeader,\n  PanelHeaderBack,\n  Search,\n} from '@vkontakte/vkui';\nimport { audios } from '../types';\nimport type { Audio } from '../types';\n\ninterface MusicChooseState {\n  search: string;\n}\n\nexport interface MusicChooseProps {\n  // setView: (view: string, name?: string) => void;\n  // setPanel: (name: string) => void;\n  goBack: () => void;\n  choseAudio: (audio: Audio) => void;\n}\n\nexport class MusicChoose extends React.Component<\n  MusicChooseProps,\n  MusicChooseState\n> {\n  constructor(props: MusicChooseProps) {\n    super(props);\n\n    this.state = {\n      search: '',\n    };\n  }\n\n  get audios() {\n    const search = this.state.search.toLowerCase();\n    return audios.filter(\n      ({ title, artist }) =>\n        title.toLowerCase().indexOf(search) > -1 ||\n        artist.toLowerCase().indexOf(search) > -1,\n    );\n  }\n\n  render(): JSX.Element {\n    const { goBack, choseAudio } = this.props;\n    // const {  } = this.state;\n\n    return (\n      <>\n        <PanelHeader left={<PanelHeaderBack onClick={() => goBack()} />}>\n          Выбрать музыку\n        </PanelHeader>\n        <Search\n          value={this.state.search}\n          onChange={(e) => this.setState({ search: e.target.value })}\n          after={null}\n        />\n        {this.audios.length > 0 && (\n          <List>\n            {this.audios.map((audio) => (\n              <Cell\n                key={audio.id}\n                before={<Avatar mode=\"image\" src={audio.photoURL} />}\n                description={audio.artist}\n                onClick={() => choseAudio(audio)}\n              >\n                {audio.title}\n              </Cell>\n            ))}\n          </List>\n        )}\n      </>\n    );\n  }\n}\n"]}